import{_ as x,b as l,m as a,r as v,o as c,c as r,a as s,F as y,f as k,u as m,t as n,k as p,d as _,n as u,w as A,g as N,h as w}from"./index-686eedae.js";import{u as h}from"./useFavoriteStore-4c95463f.js";import{u as g}from"./useProductsStore-08c41425.js";const F={methods:{...l(m,["getActivities"]),...l(h,["deleteFavorite","getFavorites"]),...l(g,["getAllProducts","getProduct"])},mounted(){this.getActivities(),this.getAllProducts(),this.getFavorites()},computed:{...a(m,["unlimitedActivities","numActivities"]),...a(h,["favorites","favoritesObj"]),...a(g,["products","productPromotion"]),favoritesList(){const i=[];return this.favorites&&this.favorites.forEach(d=>{this.products.forEach(e=>{if(d===e.id){const o=e.state.promotion;this.unlimitedActivities[o]&&(e.promotionName=this.unlimitedActivities[o].title),this.numActivities[o]&&(e.promotionName=this.numActivities[o].title),i.push(e)}})}),i}}},$={class:"bg-white p-7 py-md-5 px-md-4 rounded mt-3 mt-md-0"},C=s("h2",{class:"title fs-4 text-primary mb-4"},[s("span",{class:"border-primary"},"我的收藏")],-1),L={class:"row g-3"},P={class:"card d-flex flex-column h-100 bg-white border-dashed border-secondary rounded-2"},S={class:"mb-2 mb-md-0"},V=["src","alt"],j={class:"card-body d-flex flex-column justify-content-between h-100"},B={class:"card-title fs-6 mb-2 text-center"},E={class:"list-group list-group-flush flex-grow-1"},M={class:"list-group-item py-1 px-0 bg-white border-light"},T={class:"fs-8"},O={key:0,class:"list-group-item py-1 px-0 bg-white border-light"},R={class:"fs-8"},z={class:"list-group-item py-1 px-0 bg-white border-light"},D={class:"fs-8"},U={class:"d-flex align-items-center mt-3"},q=["onClick"],G=s("span",{class:"material-symbols-outlined icon-fill fs-5 text-muted"}," delete_forever ",-1),H=[G],I=s("span",{class:"icon-ms-0 icon-e icon-east"},null,-1);function J(i,d,e,o,K,f){const b=v("RouterLink");return c(),r("div",$,[C,s("div",L,[(c(!0),r(y,null,k(f.favoritesList,t=>(c(),r("div",{class:"col-md-6 col-xl-4",key:t.id},[s("div",P,[s("div",S,[s("img",{src:t.imageUrl,class:"card-mask img-fluid rounded-top-2",alt:t.title,style:{height:"180px"}},null,8,V)]),s("div",j,[s("h2",B,n(t.title),1),s("ul",E,[s("li",M,[s("span",T," 剩餘名額： "+n(t.info.capacity-t.info.studentNum)+" 位 ",1)]),t.promotionName?(c(),r("li",O,[s("span",R," 使用優惠： "+n(t.promotionName?t.promotionName:"無"),1)])):p("",!0),s("li",z,[s("div",D,[_(" 售價： "),s("span",{class:u({"text-danger":t.price!==t.origin_price})}," NT$ "+n(t.price),3),t.price!==t.origin_price?(c(),r("span",{key:0,class:u({"text-decoration-line-through  text-gray-200 ms-2":t.price!==t.origin_price})}," NT$ "+n(t.origin_price),3)):p("",!0)])])]),s("div",U,[s("a",{class:"align-self-end",href:"#",title:"移除收藏",onClick:A(Q=>i.deleteFavorite(i.favoritesObj[t.id]),["prevent"])},H,8,q),N(b,{class:"text-decoration-underline d-inline-block fs-8 fs-lg-7 ms-auto",to:`/product/${t.id}`,title:"前往課程頁面"},{default:w(()=>[_(" 前往購買 "),I]),_:2},1032,["to"])])])])]))),128))])])}const Z=x(F,[["render",J]]);export{Z as default};
