import{f as u}from"./flatpickr-cbaef1e5.js";import{B as f}from"./BackgroundBanner-cb8b35ef.js";import{_ as b,e as r,f as g,g as k,i as e,k as s,l as c,t as l,s as v,A as y,G as w}from"./index-84e6444c.js";const U="https://sideproject-shuttle.onrender.com",x="/2023-summer-sideProject-shuttle",B={components:{BackgroundBanner:f},data(){return{bannerAd:{title:"新註冊會員 贈100元折價券",subtitle:"新會員招募中，註冊即贈優惠券",imgUrl:`background-image: url(${x}/activity/newMember.jpg)`},userBirthday:"",flatpickrConfig:{enableTime:!0,dateFormat:"Y-m-d H:i"}}},methods:{onSubmit(t){const a={email:t.信箱,password:t.密碼,phone:t.連絡電話,name:t.會員名稱,birthday:this.userBirthday,sex:t.性別?t.性別:"",favorites:[]};this.singUp(a)},singUp(t){this.axios.post(`${U}/signup`,t).then(()=>{this.$swal({icon:"success",title:"註冊成功",showConfirmButton:!1,showClass:{popup:"animate__animated animate__fadeInDown"},hideClass:{popup:"animate__animated animate__fadeOutDown"}})}).catch(a=>{a.response.data==="Email already exists"?this.$swal("該信箱已註冊"):this.$swal(`問題${a.response.status}，抱歉請洽客服`)})}},mounted(){this.flatpickr=new u(this.$refs.flatpickrInput,{altInput:!0,dateFormat:"Y-m-d",altFormat:"F j, Y"}),document.querySelector(".form-date .input").classList.add("form-control")},beforeUnmount(){this.flatpickr.destroy()}},q={class:"about"},F={class:"bg-white position-relative z-0"},V={class:"container block-spacing"},P={"aria-label":"breadcrumb"},S={class:"breadcrumb"},C={class:"breadcrumb-item"},E=e("li",{class:"breadcrumb-item active","aria-current":"page"},"註冊",-1),I={class:"row"},M={class:"col-6 ps-8 text-white"},j={class:"fs-4 pt-8 mt-7 mb-2"},A={class:"fs-7"},N={class:"col-6 bg-primary-light rounded-5 py-5 shadow"},$=e("h1",{class:"title fs-3 text-primary pt-3 pb-4"},[e("span",{class:"border-primary"},"註冊會員")],-1),D={class:"form-floating mb-4"},T=e("label",{for:"signUpEmail",class:"required"},"註冊信箱",-1),L={class:"form-floating mb-4"},Y=e("label",{for:"signUpPassword",class:"required"},"密碼",-1),R={class:"form-floating mb-4"},z=e("label",{for:"checkPassword",class:"required"},"再次確認密碼",-1),G={class:"form-floating mb-4"},H=e("label",{for:"signUpName",class:"required"},"會員名稱",-1),O={class:"form-floating mb-4"},J=e("label",{for:"signUpPhone",class:"required"},"連絡電話",-1),K={class:"form-date form-floating mb-4"},Q=e("label",{for:"signUpBirthday"},"生日",-1),W={class:"mb-5 ms-3"},X=e("label",{class:"d-block mb-2"},"性別",-1),Z={class:"form-check form-check-inline"},ee=e("label",{for:"signUpMale"},"男性",-1),se={class:"form-check form-check-inline"},te=e("label",{for:"signUpFemale"},"女性",-1),oe={class:"form-check form-check-inline"},ae=e("label",{for:"signUpPrivate"},"不公開",-1),ie={class:"form-check mb-3"},ne=e("label",{class:"form-check-label required"}," 我同意網站服務條款及隱私政策 ",-1),re=e("button",{class:"btn btn-primary w-100 mb-3 fs-5"},"註冊",-1);function ce(t,a,le,de,i,d){const m=r("RouterLink"),o=r("VField"),n=r("ErrorMessage"),p=r("VForm"),_=r("BackgroundBanner");return g(),k("div",q,[e("div",F,[e("div",V,[e("nav",P,[e("ol",S,[e("li",C,[s(m,{to:"/"},{default:c(()=>[v("首頁")]),_:1})]),E])]),e("div",I,[e("div",M,[e("h2",j,l(i.bannerAd.title),1),e("h3",A,l(i.bannerAd.subtitle),1)]),e("div",N,[$,s(p,{novalidate:"",onSubmit:d.onSubmit,class:"mx-5 form-clear"},{default:c(()=>[e("div",D,[s(o,{name:"信箱",type:"email",rules:"required|email",class:"form-control",id:"signUpEmail",placeholder:"name@example.com"}),T,s(n,{name:"信箱"})]),e("div",L,[s(o,{name:"密碼",type:"password",rules:"required|alpha_num|min:6|max:20",class:"form-control",id:"signUpPassword",placeholder:"password"}),Y,s(n,{name:"密碼"})]),e("div",R,[s(o,{name:"輸入密碼",type:"password",rules:"confirmed:@密碼",class:"form-control",id:"checkPassword",placeholder:"password"}),z,s(n,{name:"輸入密碼"})]),e("div",G,[s(o,{name:"會員名稱",type:"text",rules:"required",class:"form-control",id:"signUpName",placeholder:"name"}),H,s(n,{name:"會員名稱"})]),e("div",O,[s(o,{name:"連絡電話",type:"phone",rules:"required|numeric|length:10",class:"form-control",id:"signUpPhone",placeholder:"0912345678"}),J,s(n,{name:"連絡電話"})]),e("div",K,[y(e("input",{name:"生日",ref:"flatpickrInput",type:"text",id:"signUpBirthday",placeholder:"1990-01-01","onUpdate:modelValue":a[0]||(a[0]=h=>i.userBirthday=h)},null,512),[[w,i.userBirthday]]),Q]),e("div",W,[X,e("div",Z,[s(o,{type:"radio",name:"性別",value:"male",class:"form-check-input",id:"signUpMale"}),ee]),e("div",se,[s(o,{type:"radio",name:"性別",value:"female",class:"form-check-input",id:"signUpFemale"}),te]),e("div",oe,[s(o,{type:"radio",name:"性別",value:"private",class:"form-check-input",id:"signUpPrivate"}),ae])]),e("div",ie,[s(o,{type:"checkbox",rules:"required",name:"agreeTerms",value:"true",class:"form-check-input"}),ne]),re]),_:1},8,["onSubmit"])])])]),s(_,{bannerImg:i.bannerAd.imgUrl,class:"singUp-banner"},null,8,["bannerImg"])])])}const he=b(B,[["render",ce]]);export{he as default};
