import{_ as A,a,m as l,r as m,o as c,c as n,b as t,F as p,e as N,f as _,u,t as r,k as h,d as g,n as f,j as w,g as F}from"./index-77334642.js";import{u as b}from"./useFavoriteStore-864c4e3f.js";import{u as x}from"./useProductsStore-276b816b.js";import{B as T}from"./BackToTop-1bd7753e.js";const B={components:{BackToTop:T},methods:{...a(u,["getActivities"]),...a(b,["deleteFavorite","getFavorites"]),...a(x,["getAllProducts","getProduct"])},mounted(){this.getActivities(),this.getAllProducts(),this.getFavorites()},computed:{...l(u,["unlimitedActivities","numActivities"]),...l(b,["favorites","favoritesObj"]),...l(x,["products","productPromotion"]),favoritesList(){const i=[];return this.favorites&&this.favorites.forEach(d=>{this.products.forEach(e=>{if(d===e.id){const o=e.state.promotion;this.unlimitedActivities[o]&&(e.promotionName=this.unlimitedActivities[o].title),this.numActivities[o]&&(e.promotionName=this.numActivities[o].title),i.push(e)}})}),i}}},$={class:"bg-white p-7 py-md-5 px-md-4 rounded mt-3 mt-md-0"},C=t("h2",{class:"title fs-4 text-primary mb-4"},[t("span",{class:"border-primary"},"我的收藏")],-1),L={class:"row g-3"},P={class:"card d-flex flex-column h-100 bg-white border-dashed border-secondary rounded-2"},S={class:"mb-2 mb-md-0"},j=["src","alt"],V={class:"card-body d-flex flex-column justify-content-between h-100"},E={class:"card-title fs-6 mb-2 text-center"},M={class:"list-group list-group-flush flex-grow-1"},O={class:"list-group-item py-1 px-0 bg-white border-light"},R={class:"fs-8"},z={key:0,class:"list-group-item py-1 px-0 bg-white border-light"},D={class:"fs-8"},U={class:"list-group-item py-1 px-0 bg-white border-light"},q={class:"fs-8"},G={class:"d-flex align-items-center mt-3"},H=["onClick"],I=t("span",{class:"material-symbols-outlined icon-fill fs-5 text-muted"}," delete_forever ",-1),J=[I],K=t("span",{class:"icon-ms-0 icon-e icon-east"},null,-1);function Q(i,d,e,o,W,v){const y=m("RouterLink"),k=m("BackToTop");return c(),n(p,null,[t("div",$,[C,t("div",L,[(c(!0),n(p,null,N(v.favoritesList,s=>(c(),n("div",{class:"col-md-6 col-xl-4",key:s.id},[t("div",P,[t("div",S,[t("img",{src:s.imageUrl,class:"card-mask img-fluid rounded-top-2",alt:s.title,style:{height:"180px"}},null,8,j)]),t("div",V,[t("h2",E,r(s.title),1),t("ul",M,[t("li",O,[t("span",R," 剩餘名額： "+r(s.info.capacity-s.info.studentNum)+" 位 ",1)]),s.promotionName?(c(),n("li",z,[t("span",D," 使用優惠： "+r(s.promotionName?s.promotionName:"無"),1)])):h("",!0),t("li",U,[t("div",q,[g(" 售價： "),t("span",{class:f({"text-danger":s.price!==s.origin_price})}," NT$ "+r(s.price),3),s.price!==s.origin_price?(c(),n("span",{key:0,class:f({"text-decoration-line-through  text-gray-200 ms-2":s.price!==s.origin_price})}," NT$ "+r(s.origin_price),3)):h("",!0)])])]),t("div",G,[t("a",{class:"align-self-end",href:"#",title:"移除收藏",onClick:w(X=>i.deleteFavorite(i.favoritesObj[s.id]),["prevent"])},J,8,H),_(y,{class:"text-decoration-underline d-inline-block fs-8 fs-lg-7 ms-auto",to:`/product/${s.id}`,title:"前往課程頁面"},{default:F(()=>[g(" 前往購買 "),K]),_:2},1032,["to"])])])])]))),128))])]),_(k)],64)}const et=A(B,[["render",Q]]);export{et as default};
