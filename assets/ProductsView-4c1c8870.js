import{_ as h,e as i,f as a,v as C,j as e,F as r,q as v,g as d,i as F,t as o,m as _,k as g,l as c,s as l,u as k,x as $,z as w}from"./index-9450ee47.js";import{u as P}from"./useProductsStore-45c55aac.js";import{u as A}from"./useActivitiesStore-fe656653.js";import{u as B}from"./useFavoriteStore-4c0ab310.js";import{B as S}from"./BackgroundBanner-1ed29b58.js";const L={},V={class:"bg-primary-light"},z=C('<div class="container"><ul class="nav nav-hover-style d-flex justify-content-around justify-content-md-start"><li class="nav-item py-3 px-md-3 ms-md-3"><a class="nav-link p-1" href="#/products"><span class="d-none d-md-flex">全部課程</span><span class="d-md-none">ALL</span></a></li><li class="nav-item py-3 px-md-3"><a class="nav-link p-1" href="#/products">一日體驗</a></li><li class="nav-item py-3 px-md-3"><a class="nav-link p-1" href="#/products">初階課程</a></li><li class="nav-item py-3 px-md-3"><a class="nav-link p-1" href="#/products">進階課程</a></li><li class="nav-item py-3 px-md-3"><a class="nav-link p-1" href="#/products">輔助課程</a></li></ul></div>',1),I=[z];function O(s,f){return i(),a("div",V,I)}const E=h(L,[["render",O]]),U={props:["pages"],methods:{updatePage(s){this.$emit("updatePage",s)}}},R={class:"mt-5"},q={class:"pagination justify-content-center align-items-center"},D=e("li",{class:"page-item me-2"},[e("a",{class:"page-link rounded-circle p-1",href:"#/products","aria-label":"Previous"},[e("span",{class:"material-symbols-outlined"}," chevron_left ")])],-1),M=["onClick"],T=e("li",{class:"page-item ms-2"},[e("a",{class:"page-link rounded-circle p-1",href:"#/products","aria-label":"Next"},[e("span",{class:"material-symbols-outlined"}," chevron_right ")])],-1);function G(s,f,m,N,b,p){return i(),a("nav",R,[e("ul",q,[D,(i(!0),a(r,null,v(m.pages.total_pages,n=>(i(),a("li",{class:d(["page-item mx-1",{active:n===m.pages.current_page}]),key:n},[e("a",{class:"page-link fs-6 rounded-circle",href:"#/products",onClick:F(y=>p.updatePage(n),["prevent"])},o(n),9,M)],2))),128)),T])])}const H=h(U,[["render",G]]);const J="/2023-summer-sideProject-shuttle",K={data(){return{bannerImg:`background-image: url(${J}/banner/banner-products.jpg)`}},components:{BackgroundBanner:S,ProductsNavs:E,FrontPagination:H},methods:{..._(P,["getProducts"]),..._(A,["getActivities"]),..._(B,["toggleFavorite","getFavorites"])},mounted(){this.getProducts(),this.getActivities(),this.getFavorites()},computed:{...g(P,["products","pagination"]),...g(A,["numActivities","unlimitedActivities"]),...g(B,["favorites"]),imgBase(){return"/2023-summer-sideProject-shuttle"}}},Q={class:"position-relative overflow-hidden"},W={class:"block-spacing-sm container"},X={class:"mx-3 mx-md-0"},Y={class:"d-flex justify-content-between align-items-center mb-3"},Z={"aria-label":"breadcrumb"},ee={class:"breadcrumb"},te={class:"breadcrumb-item"},se=e("li",{class:"breadcrumb-item active","aria-current":"page"}," 購買課程 ",-1),ie=C('<div class="d-flex align-items-center"><label for="filter-select" class="lh-lg fw-semibold flex-shrink-0 me-2">排序</label><div class="select-icon"><select class="form-select fs-7 border-secondary" aria-label="form-select" id="filter-select"><option value="CtoE" selected>價格由低到高</option><option value="EtoC">價格由低到高</option><option value="popularity">人氣順</option><option value="LtoS">課程時間長到短</option><option value="StoL">課程時間短到長</option></select></div></div>',1),ae={class:"row gx-3 gy-4"},oe={class:"card h-100"},ne={class:"card-mask position-relative"},le=["src","alt"],ce={key:0,class:"badge badge-sale position-absolute start-0",style:{top:"24px"}},re={key:1,class:"badge badge-sale bg-success position-absolute start-0",style:{top:"24px"}},de=["onClick"],me={class:"card-body flex-grow-1 pb-5"},pe={class:"card-title fs-5"},ue={class:"card-footer pb-3"},_e={class:"d-flex align-items-center"},ge={key:0,class:"fs-4 fw-bold text-danger"},ve=e("div",{class:"bg-position bg-white border-dashed rounded-circle d-none d-md-block animation-rotate z-n1",style:{width:"90vw",height:"90vw",top:"-60vw",left:"-20vw"}},null,-1),he=e("div",{class:"bg-position bg-primary-light rounded-circle z-n2",style:{width:"100vw",height:"100vw",bottom:"-65vw",right:"-20vw"}},null,-1);function fe(s,f,m,N,b,p){const n=c("BackgroundBanner"),y=c("ProductsNavs"),x=c("RouterLink"),j=c("FrontPagination");return i(),a(r,null,[l(n,{bannerImg:b.bannerImg,class:"product-banner"},null,8,["bannerImg"]),l(y),e("div",Q,[e("div",W,[e("div",X,[e("div",Y,[e("nav",Z,[e("ol",ee,[e("li",te,[l(x,{to:"/"},{default:k(()=>[$("首頁")]),_:1})]),se])]),ie]),e("div",ae,[(i(!0),a(r,null,v(s.products,t=>(i(),a("div",{key:t.id,class:d([s.products.indexOf(t)+1<=9?"col-md-6 col-lg-4 gx-xxl-5":"col-md-6 col-lg-4 gx-xxl-5 d-lg-none"])},[e("div",oe,[e("div",ne,[e("img",{src:`${p.imgBase}${t.imageUrl}`,alt:`product${t.id}`,class:"rounded-top",style:{height:"240px"}},null,8,le),s.unlimitedActivities[t.state.promotion]?(i(),a("span",ce,o(s.unlimitedActivities[t.state.promotion].badge),1)):s.numActivities[t.state.promotion]?(i(),a("span",re,o(s.numActivities[t.state.promotion].badge),1)):w("",!0),e("a",{href:"#",onClick:F(u=>s.toggleFavorite(t.id),["prevent"])},[e("span",{class:d(["icon-favorite material-symbols-outlined position-absolute",{"icon-fill text-danger":s.favorites.indexOf(t.id)!==-1}]),style:{top:"24px",right:"24px"}},"favorite",2)],8,de)]),e("div",me,[e("h3",pe,o(t.title),1),(i(!0),a(r,null,v(t.info.tags,u=>(i(),a("span",{class:"badge bg-light me-2",key:t.info.tags.indexOf(u)},o(u),1))),128))]),e("div",ue,[e("div",_e,[s.unlimitedActivities[t.state.promotion]?(i(),a("small",ge,"$"+o(t.origin_price*s.unlimitedActivities[t.state.promotion].percentOff),1)):w("",!0),e("small",{class:d([s.unlimitedActivities[t.state.promotion]?"fs-6 text-gray-400 text-decoration-line-through ms-2":"fs-4 fw-bold text-black"])},"$"+o(t.origin_price),3)]),l(x,{to:`/product/${t.id}`,class:"btn btn-primary w-100 fs-md-7 fs-xl-6 mt-3"},{default:k(()=>[$(" 購買課程 ")]),_:2},1032,["to"])])])],2))),128))]),l(j,{pages:s.pagination,onUpdatePage:s.getProducts},null,8,["pages","onUpdatePage"])])]),ve,he])],64)}const we=h(K,[["render",fe]]);export{we as default};
