import{_ as f,m as d,b as i,r as a,o as u,c as _,a as s,g as l,h as n,t as o,n as g,k as w,l as m,d as r}from"./index-686eedae.js";import{u as x}from"./utilitiesStore-1f9ae4ab.js";import{u as v}from"./useCartsStore-3a1c0605.js";import{u as y}from"./useCouponStore-e10688e8.js";import{u as h}from"./useOrderStore-0ecb583f.js";const k={data(){return{orderId:"",order:null,id:""}},computed:{...d(m,["singleInfo"]),...d(h,["orderInfo"]),...d(v,["totalBill","nowAllDiscount"]),...d(y,["cookieCouponDiscount"]),createDate(){const e=new Date(this.orderInfo.create_at*1e3);return`${e.getFullYear()}-${e.getMonth()+1}-${e.getDate()}`},finalBill(){const{cartOverview:e}=this.order.user;return e?e.finalBill:0}},methods:{...i(m,["getFontData"]),...i(x,["unixToStr"]),...i(h,["getOrder"])},watch:{orderId(e){this.getFontData("order",e)},singleInfo(e){this.order={...e}}},mounted(){this.orderId=document.cookie.replace(/(?:(?:^|.*;\s*)orderId\s*=\s*([^;]*).*$)|^.*$/,"$1")}},D={class:"bg-white"},S={class:"block-spacing-sm container"},I={"aria-label":"breadcrumb",class:"mb-3"},B={class:"breadcrumb"},C={class:"breadcrumb-item"},N={class:"breadcrumb-item"},O={class:"breadcrumb-item"},F=s("li",{class:"breadcrumb-item active","aria-current":"page"},"訂單完成",-1),T=s("div",{class:"w-100 w-md-75 d-flex flex-column mx-auto my-5"},[s("ol",{class:"d-flex justify-content-around ps-0 fs-7 fs-md-6 fw-bold"},[s("li",null,"訂單確認"),s("li",null,"填寫資料"),s("li",null,"訂單完成")]),s("div",{class:"progress border-dashed border-secondary"},[s("div",{class:"progress-bar",role:"progressbar",style:{width:"100.5%"},"aria-valuenow":"100","aria-valuemin":"0","aria-valuemax":"100"})])],-1),V={class:"row justify-content-center gy-5"},E=s("div",{class:"col-8 col-md-5 col-xl-4 align-self-center"},[s("h2",{class:"d-flex flex-column align-items-center rounded-2 shadow p-4 p-lg-5 mb-0 fs-4"},[s("i",{class:"bi bi-check-circle-fill text-success mb-3 lh-1",style:{"font-size":"64px"}}),r(" 訂單已成立 ")])],-1),j={key:0,class:"col col-sm-10 col-md-8 col-xl-6"},z={class:"rounded-2 p-4 p-sm-5 bg-body"},A=s("h2",{class:"title fs-4 mb-7 mb-md-4"},[s("span",{class:"border-dark pb-6"},"訂單資訊")],-1),L={class:"mx-xl-4"},R={class:"order-detail table fs-7 fs-xl-6"},M=s("thead",{class:"visually-hidden"},[s("tr",null,[s("th",{scope:"col"},"#"),s("th",{scope:"col"},"First")])],-1),Y={class:"border-white"},$=s("th",{scope:"row",width:"100"},"成立日期",-1),q=s("th",{scope:"row"},"訂單編號",-1),G=s("th",{scope:"row"},"應付金額",-1),H={class:"fw-bold"},J=s("th",{scope:"row"},"付款狀態",-1),K=s("th",{scope:"row"},"訂購人",-1),P=s("th",{scope:"row"},"聯絡電話",-1),Q=s("th",{scope:"row"},"聯絡信箱",-1),U=s("th",{scope:"row"},"訂單備註",-1),W={class:"col-10 text-center"},X=s("span",{class:"material-symbols-outlined icon-semibold fs-6 fs-lg-5"},"undo",-1),Z=s("span",{class:"icon-e icon-east fs-7 fs-lg-6"},null,-1);function ss(e,es,ts,os,t,p){const c=a("RouterLink"),b=a("router-link");return u(),_("div",D,[s("div",S,[s("nav",I,[s("ol",B,[s("li",C,[l(c,{to:"/"},{default:n(()=>[r("首頁")]),_:1})]),s("li",N,[l(c,{to:"/products"},{default:n(()=>[r("購買課程")]),_:1})]),s("li",O,[l(c,{to:"/carts"},{default:n(()=>[r("購物車")]),_:1})]),F])]),T,s("div",V,[E,t.order?(u(),_("div",j,[s("div",z,[A,s("div",L,[s("table",R,[M,s("tbody",Y,[s("tr",null,[$,s("td",null,o(e.unixToStr(t.order.create_at)),1)]),s("tr",null,[q,s("td",null,[l(b,{to:`/member/order/${t.order.id}`,class:"link-primary text-decoration-underline"},{default:n(()=>[r(o(t.order.id),1)]),_:1},8,["to"])])]),s("tr",null,[G,s("td",null,[s("span",H,"NT$ "+o(p.finalBill),1)])]),s("tr",null,[J,s("td",null,[s("span",{class:g(["badge text-white rounded-1",[t.order.is_paid?"bg-success":"bg-danger"]])},o(t.order.is_paid?"付款完成":"未付款"),3)])]),s("tr",null,[K,s("td",null,o(t.order.user.name),1)]),s("tr",null,[P,s("td",null,o(t.order.user.tel),1)]),s("tr",null,[Q,s("td",null,o(t.order.user.email),1)]),s("tr",null,[U,s("td",null,o(t.order.message||"－"),1)])])])])])])):w("",!0),s("div",W,[l(c,{to:"/products",class:"btn btn-outline-secondary fs-7 fs-lg-6 m-2"},{default:n(()=>[X,r(" 返回課程列表 ")]),_:1}),l(c,{to:"/member/orders",class:"btn btn-primary fs-7 fs-lg-6 m-2"},{default:n(()=>[r(" 查看我的訂單 "),Z]),_:1})])])])])}const is=f(k,[["render",ss]]);export{is as default};
