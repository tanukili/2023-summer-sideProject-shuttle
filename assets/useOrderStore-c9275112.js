import{q as c,s as n}from"./index-77334642.js";const a="https://ec-course-api.hexschool.io/v2/",i="2023shuttle",u=c("orders",{state:()=>({orderInfo:{user:{}},orders:[],calenderEvents:[]}),actions:{getOrder(e){n.get(`${a}api/${i}/order/${e}`).then(t=>{this.orderInfo=t.data.order})},getOrders(){n.get(`${a}api/${i}/orders`).then(e=>{this.orders=e.data.orders,this.orders.forEach(t=>{t.products=Object.values(t.products)}),this.calenderEvent()})},calenderEvent(){const e=[];this.orders.forEach(t=>{e.push(...t.products)}),this.calenderEvents=e.map(t=>{const r={title:"",start:"",end:"",description:"",borderColor:"var(--bs-success)",startStr:""};return r.title=t.product.title,r.description=`${t.qty} 位學員`,t.product.info.classTime.forEach(o=>{const s=this.countDate(o[0]);r.start=`${s} ${this.countTime(o[0])}`,r.end=`${s} ${this.countTime(o[1])}`,r.startStr=`${r.end}~${this.countTime(o[0])}`}),r})},countDate(e){const t=new Date(e*1e3),r=t.getFullYear(),o=(t.getMonth()+1).toString().padStart(2,"0"),s=t.getDate().toString().padStart(2,"0");return`${r}-${o}-${s}`},countTime(e){const t=new Date(e*1e3),r=t.getHours().toString().padStart(2,"0"),o=t.getMinutes().toString().padStart(2,"0");return`${r}:${o}`}}});export{u};
