import{_ as f,m as n,k as l,e as r,f as c,j as s,F as b,q as x,t as a,z as p,x as v,g as u,i as y}from"./index-c02af96d.js";import{u as h}from"./useActivitiesStore-39cf4dce.js";import{u as _}from"./useFavoriteStore-0964208c.js";import{u as g}from"./useProductsStore-f600e688.js";const A={methods:{...n(h,["getActivities"]),...n(_,["deleteFavorite","getFavorites"]),...n(g,["getAllProducts","getProduct"])},mounted(){this.getActivities(),this.getAllProducts(),this.getFavorites()},computed:{...l(h,["unlimitedActivities","numActivities"]),...l(_,["favorites","favoritesObj"]),...l(g,["products","productPromotion"]),favoritesList(){const i=[];return this.favorites&&this.favorites.forEach(d=>{this.products.forEach(e=>{if(d===e.id){const o=e.state.promotion;this.unlimitedActivities[o]&&(e.promotionName=this.unlimitedActivities[o].title),this.numActivities[o]&&(e.promotionName=this.numActivities[o].title),i.push(e)}})}),i},imgBase(){return"/2023-summer-sideProject-shuttle"}}},N={class:"bg-white p-4 pb-5 rounded"},k=s("h2",{class:"title fs-4 text-primary mb-4"},[s("span",{class:"border-primary"},"我的收藏")],-1),w={class:"row g-3"},F={class:"card d-flex flex-column h-100 bg-white border-dashed border-secondary rounded-2"},$={class:"mb-3 mb-md-0"},P=["src","alt"],j={class:"card-body d-flex flex-column justify-content-between h-100"},B={class:"card-title fs-6 mb-2 text-center"},S={class:"list-group list-group-flush"},C={class:"list-group-item py-1 px-0 bg-white border-light"},E={class:"fs-8"},L={key:0,class:"list-group-item py-1 px-0 bg-white border-light"},T={class:"fs-8"},V={class:"list-group-item py-1 px-0 bg-white border-light"},z={class:"fs-8"},M=["onClick"],O=s("span",{class:"material-symbols-outlined icon-fill fs-5"}," delete_forever ",-1),q=[O];function D(i,d,e,o,U,m){return r(),c("div",N,[k,s("div",w,[(r(!0),c(b,null,x(m.favoritesList,t=>(r(),c("div",{class:"col-md-6 col-xl-4",key:t.id},[s("div",F,[s("div",$,[s("img",{src:`${m.imgBase}${t.imageUrl}`,class:"card-mask img-fluid rounded-top-2 h-100",alt:t.title},null,8,P)]),s("div",j,[s("h2",B,a(t.title),1),s("ul",S,[s("li",C,[s("span",E,"剩餘名額： "+a(t.info.capacity-t.info.studentNum)+" 位",1)]),t.promotionName?(r(),c("li",L,[s("span",T,"優惠： "+a(t.promotionName?t.promotionName:"無"),1)])):p("",!0),s("li",V,[s("div",z,[v(" 售價： "),s("span",{class:u({"text-danger":t.price!==t.origin_price})},"NT$ "+a(t.price),3),t.price!==t.origin_price?(r(),c("span",{key:0,class:u({"text-decoration-line-through  text-gray-200 ms-2":t.price!==t.origin_price})},"NT$ "+a(t.origin_price),3)):p("",!0)])])]),s("a",{class:"align-self-end",href:"#",onClick:y(G=>i.deleteFavorite(i.favoritesObj[t.id]),["prevent"])},q,8,M)])])]))),128))])])}const Q=f(A,[["render",D]]);export{Q as default};
