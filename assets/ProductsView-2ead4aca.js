import{_,f as i,g as a,m as B,i as e,F as r,j as p,u,x as C,t as o,y,z as x,e as c,k as l,l as k,s as $,v as w}from"./index-3171b70c.js";import{u as P}from"./useProductsStore-d3af03e2.js";import{u as A}from"./useActivitiesStore-e07fafff.js";import{B as L}from"./BackgroundBanner-64e9cf66.js";const S={},V={class:"bg-primary-light"},F=B('<div class="container"><ul class="nav nav-hover-style d-flex justify-content-around justify-content-md-start"><li class="nav-item py-3 px-md-3 ms-md-3"><a class="nav-link p-1" href="#/products"><span class="d-none d-md-flex">全部課程</span><span class="d-md-none">ALL</span></a></li><li class="nav-item py-3 px-md-3"><a class="nav-link p-1" href="#/products">一日體驗</a></li><li class="nav-item py-3 px-md-3"><a class="nav-link p-1" href="#/products">初階課程</a></li><li class="nav-item py-3 px-md-3"><a class="nav-link p-1" href="#/products">進階課程</a></li><li class="nav-item py-3 px-md-3"><a class="nav-link p-1" href="#/products">輔助課程</a></li></ul></div>',1),z=[F];function I(t,g){return i(),a("div",V,z)}const E=_(S,[["render",I]]),O={props:["pages"],methods:{updatePage(t){this.$emit("updatePage",t)}}},U={class:"mt-5"},R={class:"pagination justify-content-center align-items-center"},D=e("li",{class:"page-item me-2"},[e("a",{class:"page-link rounded-circle p-1",href:"#/products","aria-label":"Previous"},[e("span",{class:"material-symbols-outlined"}," chevron_left ")])],-1),M=["onClick"],T=e("li",{class:"page-item ms-2"},[e("a",{class:"page-link rounded-circle p-1",href:"#/products","aria-label":"Next"},[e("span",{class:"material-symbols-outlined"}," chevron_right ")])],-1);function q(t,g,d,N,v,m){return i(),a("nav",U,[e("ul",R,[D,(i(!0),a(r,null,p(d.pages.total_pages,n=>(i(),a("li",{class:u(["page-item mx-1",{active:n===d.pages.current_page}]),key:n},[e("a",{class:"page-link fs-6 rounded-circle",href:"#/products",onClick:C(h=>m.updatePage(n),["prevent"])},o(n),9,M)],2))),128)),T])])}const G=_(O,[["render",q]]);const H="/2023-summer-sideProject-shuttle",J={data(){return{bannerImg:`background-image: url(${H}/banner/banner-products.jpg)`}},components:{BackgroundBanner:L,ProductsNavs:E,FrontPagination:G},methods:{...y(P,["getProducts"]),...y(A,["getActivities"])},mounted(){this.getProducts(),this.getActivities()},computed:{...x(P,["products","pagination"]),...x(A,["numActivities","unlimitedActivities"]),imgBase(){return"/2023-summer-sideProject-shuttle"}}},K={class:"position-relative overflow-hidden"},Q={class:"block-spacing-sm container"},W={class:"mx-3 mx-md-0"},X={class:"d-flex justify-content-between align-items-center mb-3"},Y={"aria-label":"breadcrumb"},Z={class:"breadcrumb"},ee={class:"breadcrumb-item"},se=e("li",{class:"breadcrumb-item active","aria-current":"page"}," 購買課程 ",-1),te=B('<div class="d-flex align-items-center"><label for="filter-select" class="lh-lg fw-semibold flex-shrink-0 me-2">排序</label><div class="select-icon"><select class="form-select fs-7 border-secondary" aria-label="form-select" id="filter-select"><option value="CtoE" selected>價格由低到高</option><option value="EtoC">價格由低到高</option><option value="popularity">人氣順</option><option value="LtoS">課程時間長到短</option><option value="StoL">課程時間短到長</option></select></div></div>',1),ie={class:"row gx-3 gy-4"},ae={class:"card h-100"},oe={class:"card-mask position-relative"},ne=["src","alt"],le={key:0,class:"badge badge-sale position-absolute start-0",style:{top:"24px"}},ce={key:1,class:"badge badge-sale bg-success position-absolute start-0",style:{top:"24px"}},re=e("a",{href:"#"},[e("span",{class:"icon-favorite material-symbols-outlined position-absolute",style:{top:"24px",right:"24px"}},"favorite")],-1),de={class:"card-body flex-grow-1 pb-5"},me={class:"card-title fs-5"},pe={class:"card-footer pb-3"},ue={class:"d-flex align-items-center"},_e={key:0,class:"fs-4 fw-bold text-danger"},ge=e("div",{class:"bg-position bg-white border-dashed rounded-circle d-none d-md-block animation-rotate z-n1",style:{width:"90vw",height:"90vw",top:"-60vw",left:"-20vw"}},null,-1),ve=e("div",{class:"bg-position bg-primary-light rounded-circle z-n2",style:{width:"100vw",height:"100vw",bottom:"-65vw",right:"-20vw"}},null,-1);function he(t,g,d,N,v,m){const n=c("BackgroundBanner"),h=c("ProductsNavs"),f=c("RouterLink"),j=c("FrontPagination");return i(),a(r,null,[l(n,{bannerImg:v.bannerImg,class:"product-banner"},null,8,["bannerImg"]),l(h),e("div",K,[e("div",Q,[e("div",W,[e("div",X,[e("nav",Y,[e("ol",Z,[e("li",ee,[l(f,{to:"/"},{default:k(()=>[$("首頁")]),_:1})]),se])]),te]),e("div",ie,[(i(!0),a(r,null,p(t.products,s=>(i(),a("div",{key:s.id,class:u([t.products.indexOf(s)+1<=9?"col-md-6 col-lg-4 gx-xxl-5":"col-md-6 col-lg-4 gx-xxl-5 d-lg-none"])},[e("div",ae,[e("div",oe,[e("img",{src:`${m.imgBase}${s.imageUrl}`,alt:`product${s.id}`,class:"rounded-top",style:{height:"240px"}},null,8,ne),t.unlimitedActivities[s.state.promotion]?(i(),a("span",le,o(t.unlimitedActivities[s.state.promotion].badge),1)):t.numActivities[s.state.promotion]?(i(),a("span",ce,o(t.numActivities[s.state.promotion].badge),1)):w("",!0),re]),e("div",de,[e("h3",me,o(s.title),1),(i(!0),a(r,null,p(s.info.tags,b=>(i(),a("span",{class:"badge bg-light me-2",key:s.info.tags.indexOf(b)},o(b),1))),128))]),e("div",pe,[e("div",ue,[t.unlimitedActivities[s.state.promotion]?(i(),a("small",_e,"$"+o(s.origin_price*t.unlimitedActivities[s.state.promotion].percentOff),1)):w("",!0),e("small",{class:u([t.unlimitedActivities[s.state.promotion]?"fs-6 text-gray-400 text-decoration-line-through ms-2":"fs-4 fw-bold text-black"])},"$"+o(s.origin_price),3)]),l(f,{to:`/product/${s.id}`,class:"btn btn-primary w-100 fs-md-7 fs-xl-6 mt-3",style:{}},{default:k(()=>[$(" 購買課程 ")]),_:2},1032,["to"])])])],2))),128))]),l(j,{pages:t.pagination,onUpdatePage:t.getProducts},null,8,["pages","onUpdatePage"])])]),ge,ve])],64)}const ke=_(J,[["render",he]]);export{ke as default};
