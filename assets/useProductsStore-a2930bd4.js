import{E as d,G as c,H as p}from"./index-17ffa8d7.js";const n="https://ec-course-api.hexschool.io/v2/",u="2023shuttle",h=d("products",{state:()=>({products:[],pagination:{},popProducts:[],singleProduct:{state:{},info:{detail:{}},calssDates:[],courseTime:""},productPromotion:{}}),getters:{countQuota(){return this.singleProduct.info.capacity-this.singleProduct.info.studentNum}},actions:{getProducts(s=1){c.get(`${n}api/${u}/products?page=${s}`).then(t=>{this.products=t.data.products,this.pagination=t.data.pagination}).catch(t=>{p.fire(t.message)})},getAllProducts(){c.get(`${n}api/${u}/products/all`).then(s=>{this.products=s.data.products;const t=this.products.length;let o=t-5;for(o;o<t;o++)this.popProducts.push(this.products[o])}).catch(s=>{p.fire(s.message)})},getProduct(s){c.get(`${n}api/${u}/product/${s}`).then(t=>{this.singleProduct=t.data.product,this.productPromotion=t.data.product.state.promotion;const o=this.singleProduct.info;this.singleProduct.calssDates=o.ClassTime.map(a=>{const e=new Date(a[0]*1e3),i=(e.getMonth()+1).toString().padStart(2,"0"),r=e.getDate().toString().padStart(2,"0");return`${e.getFullYear()}.${i}.${r}`}),this.singleProduct.courseTime=o.ClassTime[0].map(a=>{const e=new Date(a*1e3),i=e.getHours().toString().padStart(2,"0"),r=e.getMinutes().toString().padStart(2,"0");return`${i}:${r}`})}).catch(t=>t.response)}}});export{h as u};
