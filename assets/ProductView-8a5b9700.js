import{_ as T,m as a,b as c,r as A,o as r,c as n,a as t,g,h as f,t as o,w as u,n as v,F as m,f as p,k as b,e as F,v as C,d,l as w,u as y}from"./index-686eedae.js";import{u as N}from"./utilitiesStore-1f9ae4ab.js";import{u as Q}from"./useProductsStore-08c41425.js";import{u as S}from"./useCartsStore-3a1c0605.js";import{u as k}from"./useFavoriteStore-4c95463f.js";const P={data(){return{product:null,time:[],recommendTo:{體驗:"無經驗者、親子、長者",初階:"初學者、輕鬆學習、製作小型作品",進階:"深入技術、挑戰中大型作品",輔助:"創作者、獨特風格、應用"},addNum:1,id:this.$route.params.id}},computed:{...a(w,["singleInfo"]),...a(y,["unlimitedActivities","numActivities"]),...a(Q,["singleProduct","productPromotion","countQuota"]),...a(k,["favorites"])},methods:{...c(w,["getFontData"]),...c(y,["getActivities","countAllDiscount"]),...c(S,["addToCart","isOverQuota"]),...c(k,["toggleFavorite","getFavorites"]),...c(N,["unixToStr","unixToTime"])},watch:{singleInfo(e){this.product={...e},this.time=this.product.info.classTime.flat().filter((l,h)=>h<2)}},mounted(){this.getFontData("product",this.id),this.getActivities(),this.getFavorites()}},V={key:0,class:"position-relative overflow-hidden",style:{"z-index":"0"}},D={class:"block-spacing-sm container"},z={"aria-label":"breadcrumb",class:"mb-3"},O={class:"breadcrumb mb-0"},B={class:"breadcrumb-item"},L={class:"breadcrumb-item"},I={class:"breadcrumb-item active","aria-current":"page"},M={class:"card bg-white rounded-5 mb-5"},R={class:"row g-0"},U={class:"col-lg-6 position-relative mb-3 mb-md-0"},j=["src","alt"],E={class:"col-lg-6 px-md-3 d-f"},q={class:"card-body mt-md-4 mb-md-2"},G={class:"card-title fs-4 fs-xl-3 text-center"},H={class:"card-text border-dashed-b border-primary-light lh-lg pb-3"},J={class:"table table-white mb-0"},K=t("thead",null,[t("tr",{class:"d-none"},[t("th",{scope:"col"}),t("th",{scope:"col"})])],-1),W={class:"border-light"},X=t("th",{scope:"row",width:"100",class:"text-center"},"上課日期",-1),Y={class:"pb-0"},Z={class:"border-light"},$=t("th",{scope:"row",class:"text-center"},"上課時間",-1),tt={class:"border-light"},st=t("th",{scope:"row",class:"text-center"},"剩餘名額",-1),et={class:"border-light"},ot=t("th",{scope:"row",class:"text-center"},"教學主題",-1),it={class:"border-light"},lt=t("th",{scope:"row",class:"text-center"},"推薦對象",-1),rt={key:0,class:"border-light"},nt=t("th",{scope:"row",class:"text-center"},"適用優惠",-1),dt={class:"fs-8"},ct={class:"card-footer pt-0 pb-7"},at={class:"d-md-flex align-items-center mb-3 mb-lg-7 px-3"},ut={key:0,class:"fs-4 fw-bold text-danger"},mt={class:"d-flex align-items-center ms-auto"},pt=t("label",{for:"filter-select",class:"flex-shrink-0 me-2 ms-auto"},"報名人數",-1),bt={class:"select-icon"},ht=["value"],_t={class:"row g-2 justify-content-center"},gt={class:"col-11 col-md-6"},ft={class:"col-11 col-md-6"},vt=t("ul",{class:"nav nav-tabs",id:"productTab",role:"tablist"},[t("li",{class:"nav-item w-33 w-md-25 me-md-1",role:"presentation"},[t("button",{class:"nav-link py-3 border-dashed fs-md-6 w-100 active border-bottom-0",id:"introduction-tab","data-bs-toggle":"tab","data-bs-target":"#introduction",type:"button",role:"tab","aria-controls":"introduction","aria-selected":"true"}," 課程介紹 ")]),t("li",{class:"nav-item w-33 w-md-25 me-md-1",role:"presentation"},[t("button",{class:"nav-link py-3 border-dashed fs-md-6 w-100 border-bottom-0",id:"precaution-tab","data-bs-toggle":"tab","data-bs-target":"#precaution",type:"button",role:"tab","aria-controls":"precaution","aria-selected":"false"}," 注意事項 ")]),t("li",{class:"nav-item w-33 w-md-25",role:"presentation"},[t("button",{class:"nav-link py-3 border-dashed fs-md-6 w-100 border-bottom-0",id:"FAQ-tab","data-bs-toggle":"tab","data-bs-target":"#FAQ",type:"button",role:"tab","aria-controls":"FAQ","aria-selected":"false"}," 常見問題 ")])],-1),wt={class:"tab-content bg-white fs-8 fs-lg-7 p-4",id:"productTabContent"},yt={class:"tab-pane mb-3 p-md-2 fade show active",id:"introduction",role:"tabpanel","aria-labelledby":"introduction-tab"},kt={class:"list-group list-group-flush fw-bold"},xt={class:"list-group-item bg-white py-1 border-0"},Tt=t("span",null,"上課堂數：",-1),At={class:"list-group-item bg-white py-1 border-0"},Ft=t("span",null,"單堂時數：",-1),Ct={class:"list-group-item bg-white py-1 border-0 mb-3"},Nt=t("span",null,"成品大小 ( cm ) ：",-1),Qt={class:"list-group-item bg-white py-1 border-0 mb-3"},St=t("span",null,"學習技巧：",-1),Pt={class:"fw-normal pt-2 lh-lg"},Vt=t("li",{class:"list-group-item bg-white py-1 border-0"},[t("span",null,"貼心提醒："),t("ul",{class:"fw-normal pt-2 lh-lg"},[t("li",null,"織框由課程單位提供"),t("li",null," 本課程提供學員們棉線作為織作素材，學員們也可以自備喜愛線材，經由老師討論後使用在作品上。 "),t("li",null,"教學空間內有器材與素材，因此教室禁止飲食，有蓋容器盛裝的飲品除外。")])],-1),Dt=t("div",{class:"tab-pane mb-3 p-md-2 fade",id:"precaution",role:"tabpanel","aria-labelledby":"precaution-tab"},[t("ul",null,[t("li",{class:"my-1 my-md-2"}," 輔助類課程屬於進階課程，故不建議初學者購買，推薦擁有手織經驗的學員參與。 "),t("li",{class:"my-1 my-md-2"}," 上課空間有限，為保障學員們學習權益，請準時到達課程地點，以便充分利用課程時間。 "),t("li",{class:"my-1 my-md-2"}," 課前將會寄出「上課提醒」信件，麻煩各位學員確認地點、時間日期與準備事項。 "),t("li",{class:"my-1 my-md-2"}," 部分課程會有需要自備的基本工具和材料，學員們可以按照「上課提醒」的清單提前準備。 ")])],-1),zt=t("div",{class:"tab-pane mb-3 p-md-2 py-0 fade",id:"FAQ",role:"tabpanel","aria-labelledby":"FAQ-tab"},[t("ul",{class:"list-group list-group-flush lh-lg"},[t("li",{class:"list-group-item bg-white border-dashed-b pb-3"},[t("h6",{class:"mb-0"},"Q. 課程購買後，能延後或取消課程嗎？"),t("p",{class:"mt-3 ms-4"}," 開課 7 日前可以免費調整課程時間或取消，7日內則需支付取消費用， 3 日前為課程費用 30% ， 1 日前為課程費用 50% 。 ")]),t("li",{class:"list-group-item bg-white border-dashed-b py-3"},[t("h6",{class:"mb-0"},"Q. 錯過了這次報名時間，之後還會再開設課程嗎？"),t("p",{class:"mt-3 ms-4"},[d(" 需要視課程類型而定，體驗類課程的開課間隔約 1 ~ 2 月；初學者課程的開課間隔約一季；進階課程則約一年 1 次。 "),t("br"),d(" 開課標準會依課程熱門度進行調整，歡迎聯絡我們，告知您的需求。 ")])]),t("li",{class:"list-group-item bg-white my-md-2 border-dashed-b pt-3"},[t("h6",{class:"mb-0"},"Q. 如果上課人數超過 10 人該如何報名？"),t("p",{class:"mt-3 ms-4"}," 人數超過 10 人的團體，我們能專門為您開設新課程，有需求者歡迎聯絡我們。 ")])])],-1),Ot=t("div",{class:"bg-position bg-primary-light border-dashed rounded-circle animation-rotate",style:{width:"90vw",height:"90vw",top:"-60vw",left:"-20vw"}},null,-1),Bt=t("div",{class:"bg-position bg-secondary rounded-circle",style:{width:"100vw",height:"100vw",bottom:"-70vw",right:"-20vw","z-index":"-1"}},null,-1);function Lt(e,l,h,It,s,Mt){const _=A("RouterLink");return s.product?(r(),n("div",V,[t("div",D,[t("nav",z,[t("ol",O,[t("li",B,[g(_,{to:"/"},{default:f(()=>[d("首頁")]),_:1})]),t("li",L,[g(_,{to:"/products"},{default:f(()=>[d("購買課程")]),_:1})]),t("li",I,o(s.product.title),1)])]),t("div",M,[t("div",R,[t("div",U,[t("img",{src:s.product.imageUrl,class:"product-img card-mask img-fluid rounded-top-5 rounded-start-lg-5",alt:s.product.title},null,8,j),t("a",{href:"#",onClick:l[0]||(l[0]=u(i=>e.toggleFavorite(s.product.id),["prevent"]))},[t("span",{class:v(["icon-favorite material-symbols-outlined position-absolute",{"icon-fill text-danger":e.favorites.indexOf(s.product.id)!==-1}]),style:{top:"24px",left:"24px"}}," favorite ",2)])]),t("div",E,[t("div",q,[t("h2",G,o(s.product.title),1),t("p",H,o(s.product.info.summary),1),t("table",J,[K,t("tbody",null,[t("tr",W,[X,t("td",Y,[(r(!0),n(m,null,p(s.product.info.classTime,(i,x)=>(r(),n("span",{key:i,class:"bg-primary-light me-2 mb-2 px-1 d-inline-block"},o(e.unixToStr(i[0],!x)),1))),128))])]),t("tr",Z,[$,t("td",null,o(`${e.unixToTime(s.time[0])} ~ ${e.unixToTime(s.time[1])}`),1)]),t("tr",tt,[st,t("td",null,o(s.product.info.capacity-s.product.info.studentNum)+" 位 ",1)]),t("tr",et,[ot,t("td",null,o(s.product.info.skills),1)]),t("tr",it,[lt,t("td",null,o(s.recommendTo[s.product.category]),1)]),e.unlimitedActivities[e.productPromotion]?(r(),n("tr",rt,[nt,t("td",dt,o(e.unlimitedActivities[e.productPromotion].description),1)])):b("",!0)])])]),t("div",ct,[t("div",at,[e.unlimitedActivities[s.product.state.promotion]?(r(),n("small",ut," $"+o(s.product.origin_price*e.unlimitedActivities[s.product.state.promotion].percentOff),1)):b("",!0),t("small",{class:v([e.unlimitedActivities[s.product.state.promotion]?"fs-6 text-gray-400 text-decoration-line-through ms-2":"fs-4 fw-bold text-black"])}," NT$ "+o(s.product.origin_price),3),t("div",mt,[pt,t("div",bt,[F(t("select",{class:"form-select form-select-sm fs-7","onUpdate:modelValue":l[1]||(l[1]=i=>s.addNum=i)},[(r(!0),n(m,null,p(s.product.info.capacity-s.product.info.studentNum,i=>(r(),n("option",{value:i,key:i},o(i),9,ht))),128))],512),[[C,s.addNum]])])])]),t("div",_t,[t("div",gt,[t("button",{class:"btn btn-outline-primary w-100",type:"button",onClick:l[2]||(l[2]=u(i=>e.addToCart(s.id,s.addNum,e.countQuota,!1),["prevent"]))}," 加入購物車 ")]),t("div",ft,[t("button",{class:"btn btn-primary w-100",onClick:l[3]||(l[3]=u(i=>e.addToCart(s.id,s.addNum,e.countQuota,!0),["prevent"]))}," 立即購買 ")])])])])])]),vt,t("div",wt,[t("div",yt,[t("ul",kt,[t("li",xt,[Tt,d(" "+o(s.product.info.classes)+" 堂 ",1)]),t("li",At,[Ft,d(" "+o(s.product.info.detail.perSpendTime)+" 小時 ",1)]),t("li",Ct,[Nt,d(" "+o(s.product.info.detail.size),1)]),t("li",Qt,[St,t("ul",Pt,[(r(!0),n(m,null,p(s.product.info.detail.study,i=>(r(),n("li",{key:s.product.info.detail.study.indexOf(i)},o(i),1))),128))])]),Vt])]),Dt,zt])]),Ot,Bt])):b("",!0)}const Gt=T(P,[["render",Lt]]);export{Gt as default};
