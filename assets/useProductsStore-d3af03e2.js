import{C as d,D as r,E as p}from"./index-3171b70c.js";const c="https://ec-course-api.hexschool.io/v2/",u="2023shuttle",h=d("products",{state:()=>({products:[],pagination:{},singleProduct:{state:{},info:{},calssDates:[],courseTime:""},productPromotion:{}}),getters:{countQuota(){return this.singleProduct.info.capacity-this.singleProduct.info.studentNum}},actions:{getProducts(s=1){r.get(`${c}api/${u}/products?page=${s}`).then(t=>{this.products=t.data.products,this.pagination=t.data.pagination}).catch(t=>{p.fire(t.message)})},getProduct(s){r.get(`${c}api/${u}/product/${s}`).then(t=>{this.singleProduct=t.data.product,this.productPromotion=t.data.product.state.promotion;const n=this.singleProduct.info;this.singleProduct.calssDates=n.ClassTime.map(e=>{const o=new Date(e[0]*1e3),a=o.getMonth().toString().padStart(2,"0"),i=o.getDate().toString().padStart(2,"0");return`${o.getFullYear()}.${a}.${i}`}),this.singleProduct.courseTime=n.ClassTime[0].map(e=>{const o=new Date(e*1e3),a=o.getHours().toString().padStart(2,"0"),i=o.getMinutes().toString().padStart(2,"0");return`${a}:${i}`})}).catch(t=>t.response)}}});export{h as u};
