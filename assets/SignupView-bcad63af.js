import{f as u}from"./flatpickr-cbaef1e5.js";import{B as f}from"./BackgroundBanner-c5a92df4.js";import{_ as b,e as r,f as g,g as k,i as e,k as s,l as c,t as l,s as v,y,z as w}from"./index-a941adab.js";const U={}.VITE_API_PATH,x={components:{BackgroundBanner:f},data(){return{bannerAd:{title:"新註冊會員 贈50元折價券",subtitle:"新會員招募中，填寫推薦碼再加碼",imgUrl:{"background-image":"url(/2023-summer-sideProject-shuttle/src/assets/images/banner.jpg)"}},userBirthday:"",flatpickrConfig:{enableTime:!0,dateFormat:"Y-m-d H:i"}}},methods:{onSubmit(t){const a={email:t.信箱,password:t.密碼,phone:t.連絡電話,name:t.會員名稱,birthday:this.userBirthday,sex:t.性別?t.性別:"",favorites:[]};this.singUp(a)},singUp(t){this.axios.post(`${U}/signup`,t).then(()=>{this.$swal({icon:"success",title:"註冊成功",showConfirmButton:!1,showClass:{popup:"animate__animated animate__fadeInDown"},hideClass:{popup:"animate__animated animate__fadeOutDown"}})}).catch(a=>{a.response.data==="Email already exists"?this.$swal("該信箱已註冊"):this.$swal(`問題${a.response.status}，抱歉請洽客服`)})}},mounted(){this.flatpickr=new u(this.$refs.flatpickrInput,{altInput:!0,dateFormat:"Y-m-d",altFormat:"F j, Y"}),document.querySelector(".form-date .input").classList.add("form-control")},beforeUnmount(){this.flatpickr.destroy()}},B={class:"about"},q={class:"bg-white position-relative z-0"},P={class:"container block-spacing"},V={"aria-label":"breadcrumb"},F={class:"breadcrumb"},I={class:"breadcrumb-item"},S=e("li",{class:"breadcrumb-item active","aria-current":"page"},"註冊",-1),E={class:"row"},A={class:"col-6 ps-8 text-white"},C={class:"fs-4 pt-8 mt-7 mb-2"},T={class:"fs-7"},M={class:"col-6 bg-primary-light rounded-5 py-5 shadow"},N=e("h1",{class:"title fs-3 text-primary pt-3 pb-4"},[e("span",{class:"border-primary"},"會員註冊")],-1),j={class:"form-floating mb-4"},D=e("label",{for:"signUpEmail",class:"required"},"註冊信箱",-1),$={class:"form-floating mb-4"},L=e("label",{for:"signUpPassword",class:"required"},"密碼",-1),Y={class:"form-floating mb-4"},z=e("label",{for:"checkPassword",class:"required"},"再次確認密碼",-1),H={class:"form-floating mb-4"},R=e("label",{for:"signUpName",class:"required"},"會員名稱",-1),O={class:"form-floating mb-4"},G=e("label",{for:"signUpPhone",class:"required"},"連絡電話",-1),J={class:"form-date form-floating mb-4"},K=e("label",{for:"signUpBirthday"},"生日",-1),Q={class:"mb-5 ms-3"},W=e("label",{class:"d-block mb-2"},"性別",-1),X={class:"form-check form-check-inline"},Z=e("label",{for:"signUpMale"},"男性",-1),ee={class:"form-check form-check-inline"},se=e("label",{for:"signUpFemale"},"女性",-1),te={class:"form-check form-check-inline"},oe=e("label",{for:"signUpPrivate"},"不公開",-1),ae={class:"form-check mb-3"},ie=e("label",{class:"form-check-label required"}," 我同意網站服務條款及隱私政策 ",-1),ne=e("button",{class:"btn btn-primary text-white w-100 mb-3 fs-5"}," 註冊 ",-1);function re(t,a,ce,le,i,d){const m=r("RouterLink"),o=r("VField"),n=r("ErrorMessage"),_=r("VForm"),p=r("BackgroundBanner");return g(),k("div",B,[e("div",q,[e("div",P,[e("nav",V,[e("ol",F,[e("li",I,[s(m,{to:"/"},{default:c(()=>[v("首頁")]),_:1})]),S])]),e("div",E,[e("div",A,[e("h2",C,l(i.bannerAd.title),1),e("h3",T,l(i.bannerAd.subtitle),1)]),e("div",M,[N,s(_,{novalidate:"",onSubmit:d.onSubmit,class:"mx-5 form-clear"},{default:c(()=>[e("div",j,[s(o,{name:"信箱",type:"email",rules:"required|email",class:"form-control",id:"signUpEmail",placeholder:"name@example.com"}),D,s(n,{name:"信箱"})]),e("div",$,[s(o,{name:"密碼",type:"password",rules:"required|alpha_num|min:6|max:20",class:"form-control",id:"signUpPassword",placeholder:"password"}),L,s(n,{name:"密碼"})]),e("div",Y,[s(o,{name:"輸入密碼",type:"password",rules:"confirmed:@密碼",class:"form-control",id:"checkPassword",placeholder:"password"}),z,s(n,{name:"輸入密碼"})]),e("div",H,[s(o,{name:"會員名稱",type:"text",rules:"required",class:"form-control",id:"signUpName",placeholder:"name"}),R,s(n,{name:"會員名稱"})]),e("div",O,[s(o,{name:"連絡電話",type:"phone",rules:"required|numeric|length:10",class:"form-control",id:"signUpPhone",placeholder:"0912345678"}),G,s(n,{name:"連絡電話"})]),e("div",J,[y(e("input",{name:"生日",ref:"flatpickrInput",type:"text",id:"signUpBirthday",placeholder:"1990-01-01","onUpdate:modelValue":a[0]||(a[0]=h=>i.userBirthday=h)},null,512),[[w,i.userBirthday]]),K]),e("div",Q,[W,e("div",X,[s(o,{type:"radio",name:"性別",value:"male",class:"form-check-input",id:"signUpMale"}),Z]),e("div",ee,[s(o,{type:"radio",name:"性別",value:"female",class:"form-check-input",id:"signUpFemale"}),se]),e("div",te,[s(o,{type:"radio",name:"性別",value:"private",class:"form-check-input",id:"signUpPrivate"}),oe])]),e("div",ae,[s(o,{type:"checkbox",rules:"required",name:"agreeTerms",value:"true",class:"form-check-input"}),ie]),ne]),_:1},8,["onSubmit"])])])]),s(p,{bannerImg:i.bannerAd.imgUrl,class:"singUp-banner"},null,8,["bannerImg"])])])}const pe=b(x,[["render",re]]);export{pe as default};
